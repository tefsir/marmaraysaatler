<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- SEO İYİLEŞTİRMELERİ BAŞLANGIÇ -->
    <title>2025 Marmaray Sefer Saatleri | Güncel Hafta İçi, Hafta Sonu ve Gece Tarifeleri</title>
    <meta name="description" content="2025 yılına ait en güncel Marmaray sefer saatleri, Gebze-Halkalı ve Halkalı-Gebze yönleri için hafta içi, hafta sonu (gece dahil) ve resmi tatil kalkış saatlerini buradan hızlıca kontrol edin. İstanbul Marmaray duraklarının tamamı listelenmiştir.">
    <meta name="keywords" content="2025 Marmaray saatleri, Marmaray gece seferleri, Marmaray hafta sonu, Halkalı Gebze, Gebze Halkalı, Marmaray durakları, Marmaray resmi tatil, Marmaray ilk son tren">
    
    <!-- FAVICON LINKİ BURAYA EKLENDİ (Önbellek aşımı için ?v=1 eklendi) -->
    <link rel="icon" type="image/x-icon" href="favicon.ico?v=1">
    
    <!-- Schema Markup (WebSite) - ALAN ADI GÜNCELLENDİ -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Marmaray Sefer Saatleri 2025",
      "url": "https://marmaraysaatler.com",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://marmaraysaatler.com/?q={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>
    <!-- SEO İYİLEŞTİRMELERİ SONU -->

    <!-- GOOGLE ANALYTICS KODU BURAYA GELECEK (HEAD sonuna yakın) -->
    <!-- Örneğin:
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XXXXXXXXXX');
    </script>
    -->

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fb;
        }
        .tab-button.active {
            background-color: #D9E4EF;
            color: #1a4f89;
            font-weight: 700;
        }
        .header-bg {
            background-color: #1a4f89; /* TCDD Mavi tonu */
        }
        .marmaray-red {
            color: #d12124;
        }
        .marmaray-blue {
            color: #1a4f89;
        }
        .ad-placeholder {
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            color: #b45309; /* Amber 700 */
            border-style: dashed; /* Reklam alanını görsel olarak ayırmak için */
            border-color: #fbbf24; /* Sarı ton */
        }
        @media (min-width: 1024px) {
            .ad-placeholder-side {
                min-height: 250px;
            }
        }

        /* Mobil Uyumlu Tablo Başlıkları için CSS Override */
        @media (max-width: 768px) {
            #schedule-table th {
                padding: 8px 4px;
                font-size: 0.6rem;
                line-height: 1;
            }
            #schedule-table td {
                padding: 6px 4px;
                font-size: 0.7rem;
            }
        }
        /* Tablo genişliklerini yönetmek için özel sınıf - GÜNCELLENDİ */
        /* w-station: %30, w-time: %70 / 3 = %23.33 (3 sütun için) */
        .w-station { width: 30%; }
        .w-time { width: 23.33%; text-align: center; }
        .text-center-force { text-align: center; }

    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'marmaray-blue': '#1a4f89',
                        'marmaray-red': '#d12124',
                    }
                }
            }
        }
    </script>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Top Advertisement Banner -->
    <div class="w-full bg-yellow-50 border border-yellow-400 text-center py-3 mb-4 rounded-b-lg shadow-sm">
        <div class="ad-placeholder">REKLAM ALANI - Üst Banner (728x90)</div>
    </div>

    <!-- Header Section -->
    <header class="header-bg p-4 shadow-lg">
        <div class="max-w-6xl mx-auto flex items-center justify-between">
            <!-- H1 Etiketi SEO için kullanıldı -->
            <h1 class="text-xl md:text-3xl font-bold text-white tracking-tight">Marmaray Sefer Saatleri</h1>
            <!-- Logo URL'si yerel dosyayı gösterecek şekilde GÜNCELLENDİ -->
            <img src="Marmaray.png" onerror="this.onerror=null; this.src='https://placehold.co/40x40/ffffff/d12124?text=M'" alt="Marmaray tren yolu hattı logosu" class="h-10 w-10 object-contain rounded-full">
        </div>
    </header>

    <!-- Main Content Grid -->
    <div class="max-w-6xl mx-auto p-4 md:p-8 grid grid-cols-1 lg:grid-cols-12 gap-6 flex-grow">

        <!-- Left Ad Slot (Desktop Only) -->
        <aside class="hidden lg:block lg:col-span-2">
            <div class="sticky top-8 space-y-4">
                <div class="w-full bg-yellow-50 border border-yellow-400 rounded-lg ad-placeholder ad-placeholder-side shadow-md">REKLAM ALANI - Sol Kule (160x600)</div>
                <div class="w-full bg-yellow-50 border border-yellow-400 rounded-lg ad-placeholder ad-placeholder-side shadow-md">REKLAM ALANI - Sol Kule 2 (160x600)</div>
            </div>
        </aside>

        <!-- Center Content (8/12 columns on desktop, full on mobile) -->
        <main class="lg:col-span-8">
            
            <!-- Train Data -->
            <div class="bg-white rounded-xl shadow-2xl p-5">
                
                <!-- Direction Tabs -->
                <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 mb-4 p-1 bg-gray-100 rounded-lg" id="direction-tabs">
                    <button data-direction="halkali" class="tab-button active flex-1 py-2 px-4 rounded-lg transition duration-150 text-marmaray-blue hover:bg-gray-200">
                        <span class="font-bold">Gebze'den => Halkalı'ya</span>
                    </button>
                    <button data-direction="gebze" class="tab-button flex-1 py-2 px-4 rounded-lg transition duration-150 text-marmaray-blue hover:bg-gray-200">
                        <span class="font-bold">Halkalı'dan => Gebze'ye</span>
                    </button>
                </div>

                <!-- Filters and Search -->
                <div class="flex flex-col md:flex-row gap-3 mb-6 items-center">
                    
                    <!-- Search Input -->
                    <div class="relative flex-1 w-full">
                        <input type="text" id="station-search" placeholder="Durak adı ile hızlı arama yapın..." class="w-full p-2 pl-10 border border-gray-300 rounded-lg focus:ring-marmaray-blue focus:border-marmaray-blue transition duration-150" onkeyup="renderSchedule()">
                        <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                    </div>

                    <!-- Filter Buttons -->
                    <div class="flex space-x-2 flex-shrink-0">
                        <button id="filter-important" data-filter="important" class="filter-button py-2 px-4 text-sm rounded-lg bg-marmaray-red text-white transition duration-150 hover:bg-red-700 font-medium">Önemli Duraklar</button>
                        <button id="filter-all" data-filter="all" class="filter-button py-2 px-4 text-sm rounded-lg bg-gray-300 text-gray-800 transition duration-150 hover:bg-gray-400 font-medium">Tüm Duraklar</button>
                    </div>
                </div>

                <!-- New Mobile Ad Slot (Visible only on small screens) -->
                <div class="lg:hidden w-full bg-yellow-50 border border-yellow-400 text-center py-2 mb-4 rounded-lg shadow-sm">
                    <div class="ad-placeholder h-16">REKLAM ALANI - Mobil İçi (320x50)</div>
                </div>

                <!-- Schedule Table -->
                <div class="overflow-x-auto border rounded-lg shadow-inner">
                    <table class="min-w-full divide-y divide-gray-200" id="schedule-table">
                        <thead class="bg-marmaray-blue">
                            <tr>
                                <th scope="col" class="w-station px-3 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">İstasyon</th>
                                <th scope="col" class="w-time px-3 py-3 text-center text-xs font-medium text-white uppercase tracking-wider">İlk Tren</th>
                                <th scope="col" class="w-time px-3 py-3 text-center text-xs font-medium text-white uppercase tracking-wider">Son Tren (Hafta İçi)</th>
                                <th scope="col" class="w-time px-3 py-3 text-center text-xs font-medium text-white uppercase tracking-wider">Son Tren (Hafta Sonu)</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200" id="table-body">
                            <!-- Data will be injected here -->
                            <tr><td colspan="4" class="text-center py-4 text-gray-500">Lütfen yukarıdan yön seçimi yapınız.</td></tr>
                        </tbody>
                    </table>
                </div>
                
            </div>
            
            <!-- Bottom Advertisement Banner (YENİ KONUM) -->
            <div class="w-full bg-yellow-50 border border-yellow-400 text-center py-3 mt-8 rounded-lg shadow-sm">
                <div class="ad-placeholder">REKLAM ALANI - Alt Banner (728x90)</div>
            </div>

            <!-- YENİ SEO GÖRÜNÜR METİN İYİLEŞTİRMESİ -->
            <div class="mt-8 p-6 bg-white rounded-xl shadow-md border-t-4 border-marmaray-red">
                <h2 class="text-xl font-bold text-marmaray-blue mb-3">2025 Güncel Marmaray Sefer ve Gece Saatleri</h2>
                <p class="text-sm text-gray-700 leading-relaxed">
                    İstanbul'un ulaşım omurgası olan <b>Marmaray</b> hattının <b>2025 yılına ait en güncel sefer saatlerini</b> bu sayfada bulabilirsiniz. Gebze'den Halkalı'ya ve Halkalı'dan Gebze'ye doğru olan tüm yönlerdeki 43 durak için detaylı tarife listelenmiştir. Tablomuzda, hem yoğun günlerdeki ulaşımınızı planlamanız için <b>Hafta İçi</b> hem de <b>Hafta Sonu</b> (Cumartesi-Pazar) tarifeleri mevcuttur. Özellikle Cuma ve Cumartesi geceleri uygulanan <b>Marmaray gece seferleri</b> sayesinde İstanbullular sabaha kadar ulaşım imkanına sahiptir.
                    <br><br>
                    Başlıca transfer ve yoğunluk noktaları olan <b>Pendik</b>, <b>Bakırköy</b>, <b>Yenikapı</b>, <b>Sirkeci</b> ve <b>Ayrılık Çeşmesi</b> gibi duraklar <b>kırmızı renkte özel olarak vurgulanmıştır</b>. Tatil dönemlerinde ve <b>resmi tatil günlerinde</b> genellikle Hafta Sonu tarifesi geçerli olmaktadır. Güncel <b>ilk tren saati</b> ve <b>son tren saati</b> bilgilerini hızlıca görüntülemek için yukarıdaki arama çubuğunu kullanabilir, istediğiniz <b>Marmaray durağının</b> (örneğin: <b>Tuzla</b>, <b>Maltepe</b>, <b>Göztepe</b> veya <b>Küçükçekmece</b>) adını yazarak anlık bilgiye ulaşabilirsiniz.
                </p>
            </div>
            <!-- SEO GÖRÜNÜR METİN İYİLEŞTİRMESİ SONU -->

        </main>

        <!-- Right Ad Slot (Desktop Only) -->
        <aside class="hidden lg:block lg:col-span-2">
            <div class="sticky top-8 space-y-4">
                <div class="w-full bg-yellow-50 border border-yellow-400 rounded-lg ad-placeholder ad-placeholder-side shadow-md">REKLAM ALANI - Sağ Kule (160x600)</div>
                <div class="w-full bg-yellow-50 border border-yellow-400 rounded-lg ad-placeholder ad-placeholder-side shadow-md">REKLAM ALANI - Sağ Kule 2 (160x600)</div>
            </div>
        </aside>

    </div>

    
    <!-- YENİ FOOTER BÖLÜMÜ -->
    <footer class="bg-gray-800 text-white p-6 mt-auto">
        <div class="max-w-6xl mx-auto text-center text-sm space-y-2">
            <p class="font-bold text-lg text-marmaray-red">2025 Güncel Marmaray Sefer Saatleri</p>
            <p>&copy; 2025 Tüm Hakları Saklıdır. Bu sayfadaki saatler bilgilendirme amaçlıdır.</p>
            <p class="mt-2 text-gray-400">
                Reklam, işbirliği ve diğer mesajlarınız için lütfen e-posta gönderin:
                <a href="mailto:marmaraysaatler@gmail.com" class="text-yellow-400 hover:text-yellow-300 font-medium underline">marmaraysaatler@gmail.com</a>
            </p>
        </div>
    </footer>
    <!-- FOOTER BÖLÜMÜ SONU -->


    <script>
        // Full Schedule Data derived from the provided image
        // Structure: station: [first_weekday, last_weekday, last_weekend, is_major]
        const schedules = {
            // Gebze'den Kalkış (Halkalı Yönü) - Yeni Tarife
            halkali: [
                // Önemli istasyonlar: Gebze, Pendik, Bostancı, Maltepe, Söğütlüçeşme, Ayrılık Çeşmesi, Üsküdar, Sirkeci, Yenikapı, Bakırköy, Ataköy, Halkalı
                { station: "Gebze", first: "06:05", last_wi: "22:50", last_we: "01:20", major: true },
                { station: "Darıca", first: "06:07", last_wi: "22:52", last_we: "01:22", major: false },
                { station: "Osmangazi", first: "06:09", last_wi: "22:54", last_we: "01:24", major: false },
                { station: "Fatih", first: "06:11", last_wi: "22:56", last_we: "01:27", major: false },
                { station: "Çayırova", first: "06:13", last_wi: "22:58", last_we: "01:28", major: false },
                { station: "Tuzla", first: "06:03", last_wi: "23:02", last_we: "01:32", major: false },
                { station: "İçmeler", first: "06:06", last_wi: "23:05", last_we: "01:35", major: false },
                { station: "Aydıntepe", first: "06:08", last_wi: "23:07", last_we: "01:37", major: false },
                { station: "Güzelyalı", first: "06:10", last_wi: "23:09", last_we: "01:39", major: false },
                { station: "Tersane", first: "06:12", last_wi: "23:11", last_we: "01:41", major: false },
                { station: "Kaynarca", first: "06:14", last_wi: "23:13", last_we: "01:43", major: false },
                { station: "Pendik", first: "06:02", last_wi: "23:16", last_we: "01:46", major: true },
                { station: "Yunus", first: "06:05", last_wi: "23:19", last_we: "01:49", major: false },
                { station: "Kartal", first: "06:08", last_wi: "23:22", last_we: "01:52", major: false },
                { station: "Başak", first: "06:10", last_wi: "23:24", last_we: "01:54", major: false },
                { station: "Atalar", first: "06:12", last_wi: "23:26", last_we: "01:56", major: false },
                { station: "Cevizli", first: "06:14", last_wi: "23:28", last_we: "01:58", major: false },
                { station: "Maltepe", first: "06:02", last_wi: "23:31", last_we: "02:01", major: true },
                { station: "Süreyya Plajı", first: "06:04", last_wi: "23:33", last_we: "02:03", major: false },
                { station: "İdealtepe", first: "06:06", last_wi: "23:35", last_we: "02:05", major: false },
                { station: "Küçükyalı", first: "06:08", last_wi: "23:37", last_we: "02:07", major: false },
                { station: "Bostancı", first: "06:11", last_wi: "23:40", last_we: "02:10", major: true },
                { station: "Suadiye", first: "06:13", last_wi: "23:42", last_we: "02:12", major: false },
                { station: "Erenköy", first: "06:00", last_wi: "23:45", last_we: "02:15", major: false },
                { station: "Göztepe", first: "06:02", last_wi: "23:47", last_we: "02:17", major: false },
                { station: "Feneryolu", first: "06:04", last_wi: "23:49", last_we: "02:19", major: false },
                { station: "Söğütlüçeşme", first: "06:00", last_wi: "23:52", last_we: "02:22", major: true },
                { station: "Ayrılık Çeşmesi", first: "06:10", last_wi: "23:55", last_we: "02:25", major: true },
                { station: "Üsküdar", first: "05:59", last_wi: "23:59", last_we: "02:29", major: true },
                { station: "Sirkeci", first: "06:03", last_wi: "00:03", last_we: "02:33", major: true },
                { station: "Yenikapı", first: "06:06", last_wi: "00:06", last_we: "02:36", major: true },
                { station: "Kazlıçeşme", first: "06:10", last_wi: "00:10", last_we: "02:40", major: false },
                { station: "Zeytinburnu", first: "06:12", last_wi: "00:12", last_we: "02:41", major: false },
                { station: "Yenimahalle", first: "06:02", last_wi: "00:15", last_we: "02:45", major: false },
                { station: "Bakırköy", first: "06:04", last_wi: "00:17", last_we: "02:47", major: true },
                { station: "Ataköy", first: "06:06", last_wi: "00:19", last_we: "02:49", major: true },
                { station: "Yeşilyurt", first: "06:09", last_wi: "00:22", last_we: "02:54", major: false },
                { station: "Yeşilköy", first: "06:11", last_wi: "00:24", last_we: "02:54", major: false },
                { station: "Florya Akvaryum", first: "06:14", last_wi: "00:27", last_we: "02:57", major: false },
                { station: "Florya", first: "06:16", last_wi: "00:29", last_we: "02:59", major: false },
                { station: "Küçükçekmece", first: "06:19", last_wi: "00:32", last_we: "03:02", major: false },
                { station: "Mustafa Kemal", first: "06:22", last_wi: "00:35", last_we: "03:05", major: false },
                // Halkalı Varış süresi hesaplanmıştır (Mustafa Kemal + 5 dakika).
                { station: "Halkalı", first: "06:27", last_wi: "00:40", last_we: "03:10", major: true }
            ],
            // Halkalı'dan Kalkış (Gebze Yönü) - Yeni Tarife
            gebze: [
                // Önemli istasyonlar: Halkalı, Ataköy, Bakırköy, Yenikapı, Sirkeci, Üsküdar, Ayrılık Çeşmesi, Söğütlüçeşme, Maltepe, Bostancı, Pendik, Gebze
                { station: "Halkalı", first: "05:58", last_wi: "22:58", last_we: "01:28", major: true },
                { station: "Mustafa Kemal", first: "06:01", last_wi: "23:01", last_we: "01:31", major: false },
                { station: "Küçükçekmece", first: "06:03", last_wi: "23:03", last_we: "01:33", major: false },
                { station: "Florya", first: "06:06", last_wi: "23:06", last_we: "01:36", major: false },
                { station: "Florya Akvaryum", first: "06:08", last_wi: "23:08", last_we: "01:38", major: false },
                { station: "Yeşilköy", first: "06:11", last_wi: "23:11", last_we: "01:41", major: false },
                { station: "Yeşilyurt", first: "06:13", last_wi: "23:13", last_we: "01:43", major: false },
                { station: "Ataköy", first: "06:02", last_wi: "23:16", last_we: "01:46", major: true },
                { station: "Bakırköy", first: "06:05", last_wi: "23:19", last_we: "01:49", major: true },
                { station: "Yenimahalle", first: "06:07", last_wi: "23:21", last_we: "01:51", major: false },
                { station: "Zeytinburnu", first: "06:10", last_wi: "23:24", last_we: "01:54", major: false },
                { station: "Kazlıçeşme", first: "06:12", last_wi: "23:26", last_we: "01:56", major: false },
                { station: "Yenikapı", first: "06:00", last_wi: "23:30", last_we: "02:00", major: true },
                { station: "Sirkeci", first: "06:03", last_wi: "23:33", last_we: "02:03", major: true },
                { station: "Üsküdar", first: "06:07", last_wi: "23:37", last_we: "02:07", major: true },
                { station: "Ayrılık Çeşmesi", first: "06:11", last_wi: "23:41", last_we: "02:11", major: true },
                { station: "Söğütlüçeşme", first: "06:00", last_wi: "23:44", last_we: "02:14", major: true },
                { station: "Feneryolu", first: "06:02", last_wi: "23:46", last_we: "02:16", major: false },
                { station: "Göztepe", first: "06:04", last_wi: "23:48", last_we: "02:18", major: false },
                { station: "Erenköy", first: "06:06", last_wi: "23:50", last_we: "02:20", major: false },
                { station: "Suadiye", first: "06:09", last_wi: "23:53", last_we: "02:23", major: false },
                { station: "Bostancı", first: "06:11", last_wi: "23:55", last_we: "02:25", major: true },
                { station: "Küçükyalı", first: "06:14", last_wi: "23:58", last_we: "02:28", major: false },
                { station: "İdealtepe", first: "06:00", last_wi: "00:00", last_we: "02:30", major: false },
                { station: "Süreyya Plajı", first: "06:02", last_wi: "00:02", last_we: "02:32", major: false },
                { station: "Maltepe", first: "06:04", last_wi: "00:04", last_we: "02:34", major: true },
                { station: "Cevizli", first: "06:07", last_wi: "00:07", last_we: "02:37", major: false },
                { station: "Atalar", first: "06:09", last_wi: "00:09", last_we: "02:39", major: false },
                { station: "Başak", first: "06:11", last_wi: "00:11", last_we: "02:41", major: false },
                { station: "Kartal", first: "06:13", last_wi: "00:13", last_we: "02:43", major: false },
                { station: "Yunus", first: "06:02", last_wi: "00:16", last_we: "02:46", major: false },
                { station: "Pendik", first: "06:05", last_wi: "00:19", last_we: "02:49", major: true },
                { station: "Kaynarca", first: "06:08", last_wi: "00:22", last_we: "02:52", major: false },
                { station: "Tersane", first: "06:10", last_wi: "00:24", last_we: "02:54", major: false },
                { station: "Güzelyalı", first: "06:12", last_wi: "00:26", last_we: "02:56", major: false },
                { station: "Aydıntepe", first: "06:14", last_wi: "00:28", last_we: "02:58", major: false },
                { station: "İçmeler", first: "06:16", last_wi: "00:30", last_we: "03:00", major: false },
                { station: "Tuzla", first: "06:19", last_wi: "00:33", last_we: "03:03", major: false },
                { station: "Çayırova", first: "06:22", last_wi: "00:36", last_we: "03:06", major: false },
                { station: "Fatih", first: "06:25", last_wi: "00:39", last_we: "03:09", major: false },
                { station: "Osmangazi", first: "06:27", last_wi: "00:41", last_we: "03:11", major: false },
                { station: "Darıca", first: "06:29", last_wi: "00:43", last_we: "03:13", major: false },
                // Gebze Varış süresi hesaplanmıştır (Darıca + 5 dakika).
                { station: "Gebze", first: "06:34", last_wi: "00:48", last_we: "03:18", major: true }
            ]
        };

        let currentDirection = 'halkali';
        let currentFilter = 'important'; // 'important' or 'all'
        const tableBody = document.getElementById('table-body');
        const searchInput = document.getElementById('station-search');

        // Function to render the schedule table
        function renderSchedule() {
            const allData = schedules[currentDirection];
            const searchQuery = searchInput.value.toLowerCase().trim();
            
            // 1. Filter based on Search Query
            let filteredData = allData.filter(item => 
                item.station.toLowerCase().includes(searchQuery)
            );

            // 2. Filter based on Importance (if no search query is active)
            if (currentFilter === 'important' && searchQuery === '') {
                filteredData = filteredData.filter(item => item.major);
            }

            tableBody.innerHTML = ''; // Clear existing rows

            if (filteredData.length === 0) {
                const noResultRow = document.createElement('tr');
                noResultRow.innerHTML = `<td colspan="4" class="text-center py-6 text-gray-500 italic">Aradığınız kritere uygun durak bulunamadı.</td>`;
                tableBody.appendChild(noResultRow);
                return;
            }

            filteredData.forEach((item, index) => {
                const row = document.createElement('tr');
                row.className = index % 2 === 0 ? 'bg-white hover:bg-gray-50' : 'bg-gray-100 hover:bg-gray-200';
                
                // Renklendirme sadece font-semibold ve text-marmaray-red ile yapılıyor
                const stationClass = item.major ? 'font-semibold text-marmaray-red' : 'text-gray-900';
                
                const stationNameDisplay = item.station;

                row.innerHTML = `
                    <td class="w-station px-3 py-3 whitespace-nowrap text-sm ${stationClass}">${stationNameDisplay}</td>
                    <td class="w-time px-3 py-3 whitespace-nowrap text-sm font-medium text-gray-700 text-center-force">${item.first}</td>
                    <td class="w-time px-3 py-3 whitespace-nowrap text-sm font-medium text-marmaray-red text-center-force">${item.last_wi}</td>
                    <td class="w-time px-3 py-3 whitespace-nowrap text-sm font-medium text-marmaray-blue text-center-force">${item.last_we}</td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Event listener for direction tabs
        document.querySelectorAll('#direction-tabs .tab-button').forEach(button => {
            button.addEventListener('click', () => {
                currentDirection = button.dataset.direction;
                
                // Update active tab styles
                document.querySelectorAll('#direction-tabs .tab-button').forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');

                // Clear search and reset filter on direction change
                searchInput.value = '';
                currentFilter = 'important';
                updateFilterButtonStyles();
                
                renderSchedule();
            });
        });

        // Function to update filter button styles
        function updateFilterButtonStyles() {
            document.querySelectorAll('.filter-button').forEach(btn => {
                btn.classList.remove('bg-marmaray-red', 'text-white', 'bg-gray-300', 'text-gray-800');
                if (btn.dataset.filter === currentFilter) {
                    btn.classList.add('bg-marmaray-red', 'text-white');
                } else {
                    btn.classList.add('bg-gray-300', 'text-gray-800');
                }
            });
        }

        // Event listener for filter buttons
        document.querySelectorAll('.filter-button').forEach(button => {
            button.addEventListener('click', () => {
                currentFilter = button.dataset.filter;
                searchInput.value = ''; // Clear search when filtering
                updateFilterButtonStyles();
                renderSchedule();
            });
        });


        // Initial setup
        document.addEventListener('DOMContentLoaded', () => {
            // Ensure the initial filter state is reflected visually
            updateFilterButtonStyles();
            // Render initial schedule (Halkalı Yönü, Önemli Duraklar)
            renderSchedule();
        });
    </script>
</body>
</html>
